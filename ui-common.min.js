require.config({paths:{socialIcons:"prelogin/compiled-templates/HeaderSocialIconsTemplate"}}),define(["jquery","modernizr","$document","templates","require","handlebars","socialIcons"],function(e,o,n,a,t,i,s){function r(o,n){n.href.length&&n.href===location.toString()&&e(n).parents("li").addClass(v)}function l(){if(S)switch(S.SubDomainId){case 252:e("#usaaHero").show();break;default:e("#marketingHero").show()}}function c(){return p.width()}function d(e){var o=p.data("pos");return(o&&o.y||p.scrollTop())>e}e=window.jQuery;var f=n&&n.document,m=f.find(document.head||"head"),u=n&&n.body,v="active",p=e(window),h=i.compile,g=n&&n.SessionJSON,w=n&&n.render,b=n&&n.UI,C=(n&&n.pre_render,n.subroutinePromise),y=!1,S=g.GetDomain;if("undefined"!=typeof S)var y=S.IsRetailSubDomain;else var y=!1,y=!0,k=184,O="CMS Default";var x="<div class='drawer-overlay'></div>";if(e(".podcast").append(x),e("#nav-trigger  button").click(function(){document.getElementById("mySidenav").style.width="250px",e("#mySidenav ul").addClass("expanded").fadeIn(600),e(".drawer-overlay").addClass("active")}),e("#mySidenav .closebtn").click(function(){document.getElementById("mySidenav").style.width="0",e("#mySidenav ul").removeClass("expanded").fadeOut(80),e(".drawer-overlay").removeClass("active")}),e(function(){function o(){c.prop({src:f+"svg/sm_logo.svg",alt:"TransUnion SmartMove",style:"color:transparent;"})}function n(o){r.prop({src:o.attr("src"),alt:O+", Powered by TransUnion SmartMove"}),c.prop({src:f+"svg/powered_by_logo.svg",alt:"Powered by TransUnion SmartMove"}),e(".main_logo").show(),e(".cobrand-wrap").show(),e(".header-top").removeClass("cobr-hidden"),e(".header-top").addClass("cobr-active")}var a=u.find("#SafeAndSecureTemplate"),t=u.find("#FooterSecureIconsTemplate");a.length&&a.parent().remove(),t.length&&t.parent().remove(),window.safeandsecure&&(window.safeandsecure=null);var s=u.find("#FooterSocialIconsTemplate");y===!0&&-1===window.location.href.indexOf("25percent")&&-1===window.location.href.indexOf("zrm-")&&-1===window.location.href.indexOf("podcasts")&&-1===window.location.href.indexOf("directmail")?(headersocialIcons=i.templates["#HeaderSocialIconsTemplate"],headersocialIcons.append(".divider"),s.parent().html(h(s.html())(window.socialicons||{}))):window.location.href.indexOf("podcasts")>-1&&window.location.href.indexOf("directmail")>-1?s.parent().html(h(s.html())(window.socialicons||{})):(headersocialicons.parent().remove(),s.parent().remove()),window.socialicons&&(window.socialicons=null);var r=e(".cobrand_logo"),c=e(".main_logo"),d=r.data("base-path"),f=c.data("base-path"),m="cobrands";switch(!0){case!y&&!!O.length:var v={base:d,cobr:m,subdomain:k},p=h("{{base}}{{cobr}}/{{subdomain}}.png");e.loadImage(p(v)).done(n),l();break;case window.location.href.indexOf("podcasts")>-1||window.location.href.indexOf("directmail")>-1:break;default:p=h("{{base}}{{cobr}}/{{subdomain}}.png"),e(".cobrand-wrap").hide(),e("#marketingHero").show(),e(o)}}),e(function(){function o(o){if(o&&!(c()<979))return o.preventDefault(),o=e(this),v=o.parent().hasClass(f),s.find("."+f).removeClass(f),!v&&o.parents("li").addClass(f),!1}function n(o){if(o&&!(767>c())){var n=c();o=e(o.target).find(m),o.offset();var a=o.width(),t=o.parents(m).width(),o=o.offset().left+o.width();o.css("margin-left",o>n?"-"+(t+a+10)+"px":0)}}var a={customToggle:"ResponsiveNavButton",navClass:"menu",closeOnNavClick:!0},i=u.find(".nav-main ."+a.navClass);i.find("a[href]").each(r),!!i.length&&b.done(function(e){function o(e){e&&768<c()&&i.hasClass("opened")&&i.removeClass("opened").addClass("closed")}function n(e){e&&e.type&&"click"===e.type&&(u.off("click",n),t(["responsive-nav"],function(e){i.selector&&e(i.selector,a).toggle()}),n=null)}p.on("resize.smartmove",o),u.on("click","#"+a.customToggle,n)});var s=u.find("#mainMenu");if(s.length){var l=".dropdown > a, .dropdown-submenu > a",d=".dropdown-submenu",f="resp-active",m=".dropdown-menu",v=!1;s.off({click:o,hover:n}).on("click",l,o).on("hover",d,n)}}),stickyMenu=function(){function n(){if(c()<w)return"active";p.off({"scroll.smartmove resize.smartmove":n}),a=u.find(a),t=a.find(t),i=t.find(i),s=e(s),e("#"+h).remove(),r=a.height();e.addStyleSheet(h).appendTo(m).addCSSRule(".sticky-menu-active #"+a.parents(".iw_component").attr("id"),"height:319px;display:block;");return u.addClass(g),s.addClass(g),l=a.height(),f=r+parseInt(i.css("margin-top"),10),d(f)||u.removeClass(g)&&s.removeClass(g),n=function(e){if(e){var o=u.outerHeight(!0),n=p.outerHeight(!0),a=r;switch(!0){case c()<w:case v&&!d(f):case o-n-a<=10:u.removeClass(g),s.removeClass(g),v=!1;break;case!v&&d(f):v=!0,u.addClass(g),s.addClass(g)}}},p.on({"scroll.smartmove resize.smartmove":n}),"active"}var a="header:first",t=".logo",i="img",s=".flat-menu .nav-main ul > li > a",r=0,l=0,f=0,v=!1,h="sticky-menu-style",g="sticky-menu-active",w=(o.csstransitions&&o.prefixed("transitionDuration"),991);p.off({"scroll.smartmove resize.smartmove":n}).on({"scroll.smartmove resize.smartmove":n}).trigger("scroll.smartmove")},accordion=function(o){b.done(function(){function o(o){return!!o&&(o.preventDefault(),e(this).tab&&e(this).tab("show"),!1)}var n=u.find("#what-tabs");n.off("click",o).on("click","a",o)}),b.done(function(){function o(o){if(o){var n,a,r=e(this),l=e(o.target).parent(".toggle"),c=!1,d=">.toggle-content";r.hasClass(s)&&e(o.delegateTarget).find("."+i).removeClass(i),l.toggleClass(i),c=l.find(">p"),!c.length||(n=c.height()||parseInt(c.css("height"),10),a=c.css("height","auto").height(),c.css("height","").height(n)),d=l.find(d),l.hasClass(i)?(c.animate({height:a},350,function(){e(this).addClass(previewCls)}),d.slideDown(350,e.noop)):(c.animate({height:t},350,function(){e(this).removeClass(previewCls)}),d.slideUp(350,e.noop))}}var n=u.find(".toggle"),a=n.parent(".toogle");if(n.length){var t=25,i="active",s="toogle-accordion";a.off("click",o).on("click",n.find(">label"),o)}})},scrollToTop=function(o){var n='<div class="scroll-to-top"><a id="scrollToTop" class="icon">Scroll to top</a></div>';w.done(function(){n=e(n).appendTo(u)}),b.done(function(o){function a(o){return o&&!f&&e(this).removeClass(d),p.trigger("scrolltotop.smartmove"),!1}function i(e){f=!0,t(["velocity"],function(e){l.animate({scrollTop:0},500,function(){f=!1})})}function s(e){if(e&&r.pos&&!f)return p.off("scroll.smartmove",s),s=function(e){e&&!f&&c<r.pos.y&&n.addClass(d)||n.removeClass(d)},p.on("scroll.smartmove",s),s(e)}var r=p.data(),l=e("html,body"),c=150,d="visible",f=!1;n.off("click",a).on("click",a),p.off({"scroll.smartmove":s,"scrolltotop.smartmove":i}).on({"scroll.smartmove":s,"scrolltotop.smartmove":i})})},u.find(".sidebar-menu").find("li").removeClass(v).find("a[href]").each(r),window.location.href.indexOf("direct-mail-coupon.page")!==-1){var I=SessionJSON.GetDirectMailCoupon,T=I.OwnerName,D=I.CouponCode,E=I.OfferCode;e("#customerName").text(T),e("#coupon-code").text(D),e("#submitEmailAddress").click(function(){e("#error-email-invite").is(":hidden")&&(e('[name="tl.OfferCode"]').val(E),e('[name="tl.Email"]').val(e("#emailAddress").val()),e("#emaildirectmailcoupon").click())}),SessionJSON.EmailDirectMailCoupon&&SessionJSON.EmailDirectMailCoupon.length>=1&&(SessionJSON.Failure&&"DIRECT_MAIL_REDEEMED"===SessionJSON.Failure.failureReason&&(e("#H2").text("Sorry"),e("#emailResponse").text("We were unable to send your email.")),e("#emailModal").modal())}return e("#submit-code").click(function(){e('[name="tl.OfferCode"]').val(e("#card-number").val()),e("#submitoffercode").click()}),(o.mobile||o.touch||o.w3cpointerevents)&&t(["hammer"],function(o){return"function"===e.typeOf(o)&&new o(document.documentElement)}),f.hasClass("lt-ie10")&&t(["PIE"],function(o){function n(){"function"===e.typeOf(this.disconnect)&&this.disconnect(),o.attach(t),u.find(a.join(",")).each(function(){o.attach(this)})}if(o===window.PIE&&o.attach){var a=[":input",".btn",".scroll-to-top a",".pricing-box",".key-points",".what-box",".toggle label",".error"],t=u.get(0),i=new MutationObserver(n);f.addClass("csspie"),i.observe(t,{childList:!0,subtree:!0})}}),C.resolve(),e.extend(n,{head:m})});